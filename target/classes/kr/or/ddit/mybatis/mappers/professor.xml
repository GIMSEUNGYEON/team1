<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ddit.professor.dao.ProfessorDAO">
	
	<resultMap id="lectureListMap" type="hashmap">
		<result property="subCd" column="SUB_CD"/>
		<result property="subName" column="SUB_NAME"/>
		<result property="subType" column="SUB_TYPE"/>
		<result property="subCredit" column="SUB_CREDIT"/>
		<result property="subgubun" column="SUB_GUBUN"/>
		<result property="lecRoom" column="LEC_ROOM"/>
		<result property="lecDay" column="LEC_DAY"/>
		<result property="lecTime" column="LEC_TIME"/>
	</resultMap>
	
	<select id="selectLectureList" parameterType="string" resultMap="lectureListMap"> 
		SELECT 
			LECTURE.SUB_CD, SUB_NAME, SUB_GUBUN, SUB_CREDIT, LEC_ROOM, LEC_DAY, LEC_TIME
		FROM LECTURE
			INNER JOIN SUBJECT ON LECTURE.SUB_CD = SUBJECT.SUB_CD 
		WHERE 
			PRO_NO = #{proNo}
	</select>
	
	<resultMap id="lectureMap" type="hashmap">
		<result property="subCd" column="SUB_CD"/>
		<result property="subName" column="SUB_NAME"/>
		<result property="subCredit" column="SUB_CREDIT"/>
		<result property="lecRoom" column="LEC_ROOM"/>
		<result property="lecDay" column="LEC_DAY"/>
		<result property="lecTime" column="LEC_TIME"/>
	</resultMap>
	
	<select id="selectLecture" resultType="hashmap" parameterType="string"> 
	SELECT 
		SUBJECT.SUB_CD, SUB_NAME, SUB_CREDIT, LEC_ROOM, LEC_DAY, LEC_TIME
	FROM SUBJECT 
		INNER JOIN LECTURE ON SUBJECT.SUB_CD = LECTURE.SUB_CD
	WHERE 
		SUBJECT.SUB_CD = #{subCd}
	</select>
	
	<resultMap id="studentListMap" type="hashmap">
		<result property="subCd" column="SUB_CD"/>
		<result property="subName" column="SUB_NAME"/>
		<result property="stdNo" column="STD_NO"/>
		<result property="stdName" column="STD_NAME"/>
		<result property="stdTelno" column="STD_TELNO"/>
		<result property="clsScore" column="CLS_SCORE"/>
		<result property="clsScore" column="CLS_SCORE"/>
	</resultMap>
	
	<select id="selectStudentList" resultMap="studentListMap">
		SELECT 
			SUBJECT.SUB_CD, SUBJECT.SUB_NAME, STUDENT.STD_NO, STD_NAME, STD_TELNO, CLS_SCORE
		FROM STUDENT 
			INNER JOIN CLASS ON STUDENT.STD_NO = CLASS.STD_NO
            INNER JOIN SUBJECT ON CLASS.SUB_CD = SUBJECT.SUB_CD
		WHERE 
			CLASS.SUB_CD = #{subCd}
		
	</select>
	
	<resultMap id="studentMap" type="hashmap" >	
		<result property="proNO" column="STD_NO"/>
		<result property="stdName" column="STD_NAME"/>
		<result property="stdTelno" column="STD_TELNO"/>
		<result property="clsScore" column="CLS_SCORE"/>
	</resultMap>
		
	<select id="selectStudent" resultMap="studentMap" parameterType="map">
		SELECT
			STUDENT.STD_NO, STD_NAME, STD_TELNO, CLS_SCORE
		FROM STUDENT
			INNER JOIN CLASS ON STUDENT.STD_NO = CLASS.STD_NO
		WHERE
			CLASS.SUB_CD = #{subCd}
		AND STUDENT.STD_NO = #{stuNo}
	</select>
	

</mapper>